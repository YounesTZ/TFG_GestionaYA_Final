<section>
  <form #formulario="ngForm" class="margen-chico" (ngSubmit)="guardarDatosPerfil()">
    <div>
      <label for="nombre">Nombre y Apellidos</label>
      <input type="text" name="nombre" id="nombre" [(ngModel)]="perfil.nombre" #nombre="ngModel" required minlength="4" readonly>
      <p class="error" *ngIf="nombre.invalid && nombre.touched">Ingrese un nombre válido</p>
    </div>
    <div>
      <label for="correo">Correo Electrónico</label>
      <input type="text" name="correo" id="correo" [(ngModel)]="perfil.correo" #correo="ngModel" required minlength="8">
      <!-- Mensaje de error debajo del correo -->
      <p *ngIf="showErrorDialog" class="error">El correo ya está en uso.</p>
    </div>
    <div>
      <label for="documentacion">DNI, NIE o Pasaporte</label>
      <input type="text" name="documentacion" id="documentacion" [(ngModel)]="perfil.documentacion" #documentacion="ngModel" readonly>
      <p class="error" *ngIf="documentacion.invalid && documentacion.touched">Ingrese una documentación válida</p>  
    </div>
    <div>
      <label for="telefono">Teléfono</label>
      <input type="text" name="telefono" id="telefono" [(ngModel)]="perfil.telefono" #telefono="ngModel" required minlength="5" readonly>
      <p class="error" *ngIf="telefono.invalid && telefono.touched">Ingrese un teléfono válido</p>
    </div>
    <button [disabled]="formulario.invalid">Guardar</button>
    <button type="button" class="cerrar-sesion-btn" (click)="cerrarSesion()">Cerrar Sesión</button>

    <!-- Botón de Borrar Usuario (Ahora tiene el mismo tamaño y disposición que los otros) -->
    <button type="button" class="borrar-usuario-btn" (click)="mostrarConfirmacion()">Borrar Usuario</button>
  </form>

  <!-- Cuadro de Confirmación -->
  <div *ngIf="showConfirmDelete" class="confirm-dialog">
    <p>¿Estás seguro de que deseas borrar tu cuenta?</p>
    <button (click)="borrarUsuario()">Sí</button>
    <button (click)="cancelarBorrado()">No</button>
  </div>
</section>
